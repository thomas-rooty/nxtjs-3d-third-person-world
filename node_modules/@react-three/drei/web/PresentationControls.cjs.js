"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),t=require("react"),r=require("three"),o=require("@react-three/fiber"),n=require("@react-spring/three"),a=require("@use-gesture/react");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var u=i(e),l=s(t);exports.PresentationControls=function({enabled:e=!0,snap:t,global:i,cursor:s=!0,children:c,speed:f=1,rotation:m=[0,0,0],zoom:d=1,polar:g=[0,Math.PI/2],azimuth:b=[-1/0,1/0],config:p={mass:1,tension:170,friction:26}}){const{size:h,gl:M}=o.useThree(),y=l.useMemo((()=>[m[0]+g[0],m[0]+g[1]]),[m[0],g[0],g[1]]),E=l.useMemo((()=>[m[1]+b[0],m[1]+b[1]]),[m[1],b[0],b[1]]),v=l.useMemo((()=>[r.MathUtils.clamp(m[0],...y),r.MathUtils.clamp(m[1],...E),m[2]]),[m[0],m[1],m[2],y,E]),[j,O]=n.useSpring((()=>({scale:1,rotation:v,config:p})));l.useEffect((()=>{O.start({scale:1,rotation:v,config:p})}),[v]),l.useEffect((()=>(i&&s&&e&&(M.domElement.style.cursor="grab"),()=>{M.domElement.style.cursor="default"})),[i,s,M.domElement,e]);const P=a.useGesture({onHover:({last:t})=>{s&&!i&&e&&(M.domElement.style.cursor=t?"auto":"grab")},onDrag:({down:o,delta:[n,a],memo:[i,u]=j.rotation.animation.to||v})=>{if(!e)return[a,n];s&&(M.domElement.style.cursor=o?"grabbing":"grab"),n=r.MathUtils.clamp(u+n/h.width*Math.PI*f,...E),a=r.MathUtils.clamp(i+a/h.height*Math.PI*f,...y);const l=t&&!o&&"boolean"!=typeof t?t:p;return O.start({scale:o&&a>y[1]/2?d:1,rotation:t&&!o?v:[a,n,0],config:e=>"scale"===e?{...l,friction:3*l.friction}:l}),[a,n]}},{target:i?M.domElement:void 0});return l.createElement(n.a.group,u.default({},null==P?void 0:P(),j),c)};
