"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("@react-three/fiber"),t=require("./Billboard.cjs.js"),a=require("./shapes.cjs.js"),n=require("./useTexture.cjs.js");function c(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}require("@babel/runtime/helpers/extends"),require("react-merge-refs"),require("three");var o=c(e);exports.Cloud=function({opacity:e=.5,speed:c=.4,width:s=10,depth:i=1.5,segments:u=20,texture:l="https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png",color:d="#ffffff",depthTest:p=!0,...f}){const h=r.useThree((e=>e.gl)),m=o.useRef(),b=n.useTexture(l),M=o.useMemo((()=>[...new Array(u)].map(((e,r)=>({x:s/2-Math.random()*s,y:s/2-Math.random()*s,scale:.4+Math.sin((r+1)/u*Math.PI)*(10*(.2+Math.random())),density:Math.max(.2,Math.random()),rotation:Math.max(.002,.005*Math.random())*c})))),[s,u,c]);return r.useFrame((e=>{var r;return null==(r=m.current)?void 0:r.children.forEach(((r,t)=>{r.children[0].rotation.z+=M[t].rotation,r.children[0].scale.setScalar(M[t].scale+(1+Math.sin(e.clock.getElapsedTime()/10))/2*t/10)}))})),o.createElement("group",f,o.createElement("group",{position:[0,0,u/2*i],ref:m},M.map((({x:r,y:n,scale:c,density:s},u)=>o.createElement(t.Billboard,{key:u,position:[r,n,-u*i]},o.createElement(a.Plane,{scale:c,rotation:[0,0,0]},o.createElement("meshStandardMaterial",{map:b,"map-encoding":h.outputEncoding,transparent:!0,opacity:c/6*s*e,depthTest:p,color:d})))))))};
